<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- Inherit Form View to Modify it -->
        <record id="mblz_view_picking_form" model="ir.ui.view">
            <field name="name">mblz_stock.picking.form</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.view_picking_form"/>
            <field name="arch" type="xml">


                <xpath expr="//div[hasclass('o_td_label')]" position="replace">
                    <div class="o_td_label">
                        <label for="partner_id" string="Dirección de entrega" style="font-weight:bold;"
                               attrs="{'invisible': ['|',('picking_type_code', '!=', 'outgoing'),('flag_from_mtto', '=', 'not-process')]}"/>
                        <label for="partner_id" string="Recibir de" style="font-weight:bold;"
                               attrs="{'invisible': ['|',('picking_type_code', '!=', 'incoming'),('flag_from_mtto', '=', 'not-process')]}"/>
                        <label for="partner_id" string="Contacto" style="font-weight:bold;"
                               attrs="{'invisible': ['|',('picking_type_code', 'in', ['incoming', 'outgoing']),('flag_from_mtto', '=', 'not-process')]}"/>

                        <!--                        <label for="partner_id_aux" string="Delivery Address2" style="font-weight:bold;"-->
                        <!--                               attrs="{'invisible': ['|',('picking_type_code', '!=', 'outgoing'),('flag_from_mtto', 'in', ('process', False))]}"/>-->
                        <!--                        <label for="partner_id_aux" string="Receive From" style="font-weight:bold;"-->
                        <!--                               attrs="{'invisible': ['|', ('picking_type_code', '!=', 'incoming'),('flag_from_mtto', 'in', ('process', False))]}"/>-->
                        <!--                        <label for="partner_id_aux" string="Contact" style="font-weight:bold;"-->
                        <!--                               attrs="{'invisible': ['|',('picking_type_code', 'in', ['incoming', 'outgoing']),('flag_from_mtto', 'in', ('process', False))]}"/>-->
                    </div>
                </xpath>

                <xpath expr="//field[@name='partner_id']" position="attributes">
                    <attribute name="attrs">{'invisible': [('flag_from_mtto', '=', 'not-process')]}</attribute>
                </xpath>

                <xpath expr="//field[@name='picking_type_id']" position="before">
                    <field name="partner_id_aux"
                           string="Dirección de entrega"
                           attrs="{'invisible': [('flag_from_mtto', 'in', ('process', False))]}"/>
                </xpath>

                <xpath expr="//field[@name='backorder_id']" position="after">
                    <field name="flag_from_mtto" invisible="1"/>
                </xpath>

                <xpath expr="//field[@name='move_ids_without_package']/tree//field[@name='product_id']"
                       position="after">
                    <field name="system_class_id"
                           options="{'no_open': True, 'no_create': True}"/>
                </xpath>

            </field>
        </record>
    </data>
</odoo>